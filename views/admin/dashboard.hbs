{{> dashboardnavbar}}

<div class="container-lg">
  <div class="row pt-4">

    <div class="col-lg-7 col-md-7">
      <table id="roleTable" class="table table-sm table-bordered">
        <thead>
          <th>Email</th>
          <th>Username</th>
          <th>Role</th>
          <th>Action</th>
        </thead>
        {{#each users}}
        <tr>
          <td>{{this.email}}</td>
          <td class="text-capitalize">{{this.username}}</td>
          <td>
            {{#if this.isBasic}}
              Basic
            {{else if this.isStudent}}
              Student
            {{else if this.isAdmin}}
              Admin
            {{else if this.isTeacher}}
              Teacher
            {{/if}}
          </td>
          <td class="d-flex">
            <button type="button" class="border-0 bg-transparent" id="editUserBtn" data-url="{{this.url}}"><i class="bi bi-pencil-fill text-primary"></i></button>
            <!-- <form class="deleteUserForm" action="/users/{{this._id}}?_method=DELETE" method="post"> -->
            <form class="deleteUserForm" action="/api/users/{{this._id}}?_method=DELETE" method="post">
              <button class="border-0 bg-transparent" type="submit"><i class="bi bi-trash3-fill text-danger"></i></button>
            </form>
            <!-- <button class="border-0 bg-transparent" type="submit"><i class="bi bi-trash3-fill text-danger"></i></button> -->
          </td>
        </tr>
        {{/each}}
      </table>
    </div>

    <div class="col-lg-4 col-md-4">
      <form id="userForm" method="POST">
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control form-control-sm" id="email" name="email" value="" disabled>
        </div>
        <div class="mb-3">
          <label for="username" class="form-label">Username</label>
          <input type="text" class="form-control form-control-sm" id="username" name="username" value="" disabled>
        </div>
        <div class="mb-3">
          <p class="text-center">Roles</p>
          <div class="d-flex justify-content-around align-items-center">
            <div class="">
              <input type="radio" name="role" id="basic" class="radioRoleBtn" value="basic" disabled>
              <label for="basic">Basic</label>
            </div>
            <div class="">
              <input type="radio" name="role" id="student" class="radioRoleBtn" value="student" disabled>
              <label for="student">Student</label>
            </div>
            <div class="">
              <input type="radio" name="role" id="teacher" class="radioRoleBtn" value="teacher" disabled>
              <label for="teacher">Teacher</label>
            </div>
            <!-- <div class="">
              <input type="radio" name="role" id="admin" class="radioRoleBtn" value="admin" disabled>
              <label for="admin">Admin</label>
            </div> -->
          </div>
        </div>
        <div id="editBtnGroup" class="d-grid gap-2 mb-3">
          <input type="submit" class="btn btn-primary btn-sm editUserSubmitBtn" value="Edit" disabled>
          <input type="button" class="btn btn-danger btn-sm editUserCancelBtn" value="Cancel">
        </div>
      </form>

    </div>
  </div>
</div>

{{> messages}}
